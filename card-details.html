<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Details - Freeway Cards</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="dashboard.html">Freeway Cards</a>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html">Dashboard</a>
                <a href="cards.html">Cards</a>
                <a href="wallet.html">Wallet</a>
                <a href="profile.html">Profile</a>
                <div class="user-menu">
                    <span id="user-name">User</span>
                    <button onclick="logout()" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <div class="breadcrumb">
                <a href="cards.html">‚Üê Back to Cards</a>
            </div>
            <h1 id="card-title">Card Details</h1>
        </div>

        <div class="card-details-grid">
            <div class="card-visual-large" id="card-visual">
                <!-- Card visual will be loaded here -->
            </div>

            <div class="card-info-panel">
                <h3>Card Information</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <label>Card Number</label>
                        <div class="card-number-display">
                            <span id="card-number-masked">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                            <button id="reveal-btn" class="btn-link">üëÅÔ∏è Reveal</button>
                        </div>
                    </div>
                    <div class="info-item">
                        <label>Expiry Date</label>
                        <span id="card-expiry">‚Ä¢‚Ä¢/‚Ä¢‚Ä¢</span>
                    </div>
                    <div class="info-item">
                        <label>CVV</label>
                        <div class="cvv-display">
                            <span id="card-cvv-masked">‚Ä¢‚Ä¢‚Ä¢</span>
                            <button id="reveal-cvv-btn" class="btn-link">üëÅÔ∏è</button>
                        </div>
                    </div>
                    <div class="info-item">
                        <label>Status</label>
                        <span id="card-status" class="status-badge">Active</span>
                    </div>
                    <div class="info-item">
                        <label>Spending Limit</label>
                        <span id="spending-limit">$0</span>
                    </div>
                    <div class="info-item">
                        <label>Available Balance</label>
                        <span id="available-balance">$0</span>
                    </div>
                </div>

                <div class="card-actions-panel">
                    <button id="freeze-btn" class="btn btn-warning">Freeze Card</button>
                    <button id="fund-btn" class="btn btn-primary">Add Funds</button>
                    <button id="restrictions-btn" class="btn btn-secondary">Restrictions</button>
                    <button id="settings-btn" class="btn btn-secondary">Settings</button>
                </div>
            </div>

            <div class="transactions-panel">
                <h3>Recent Transactions</h3>
                <div id="transactions-list" class="transactions-list">
                    <div class="empty-transactions">
                        <p>No transactions yet</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fund Card Modal -->
    <div id="fund-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Funds to Card</h3>
                <button onclick="closeFundModal()">√ó</button>
            </div>
            <form id="fund-form">
                <div class="form-group">
                    <label>Amount ($)</label>
                    <input type="number" id="fund-amount" min="1" max="10000" required>
                </div>
                <div class="form-group">
                    <label>Source</label>
                    <select id="fund-source">
                        <option value="wallet">Wallet Balance</option>
                        <option value="bank">Bank Account</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Add Funds</button>
            </form>
        </div>
    </div>

    <!-- Card Restrictions Modal -->
    <div id="restrictions-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Card Restrictions</h3>
                <button onclick="closeRestrictionsModal()">√ó</button>
            </div>
            <div class="restrictions-content">
                <div class="restriction-section">
                    <h4>Merchant Categories</h4>
                    <p>Block transactions from specific merchant types</p>
                    <div class="merchant-categories">
                        <label class="checkbox">
                            <input type="checkbox" id="block-gambling" data-category="gambling">
                            <span>üé∞ Gambling & Casinos</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="block-adult" data-category="adult">
                            <span>üîû Adult Entertainment</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="block-alcohol" data-category="alcohol">
                            <span>üç∫ Alcohol & Tobacco</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="block-crypto" data-category="crypto">
                            <span>‚Çø Cryptocurrency</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="block-gas" data-category="gas">
                            <span>‚õΩ Gas Stations</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="block-atm" data-category="atm">
                            <span>üèß ATM Withdrawals</span>
                        </label>
                    </div>
                </div>
                
                <div class="restriction-section">
                    <h4>Geographic Restrictions</h4>
                    <p>Control where your card can be used</p>
                    <div class="geographic-controls">
                        <div class="form-group">
                            <label>Allowed Countries</label>
                            <select id="allowed-countries" multiple>
                                <option value="US" selected>United States</option>
                                <option value="CA">Canada</option>
                                <option value="GB">United Kingdom</option>
                                <option value="DE">Germany</option>
                                <option value="FR">France</option>
                                <option value="JP">Japan</option>
                                <option value="AU">Australia</option>
                            </select>
                            <small>Hold Ctrl/Cmd to select multiple countries</small>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox">
                                <input type="checkbox" id="block-international">
                                <span>Block all international transactions</span>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox">
                                <input type="checkbox" id="block-online">
                                <span>Block online transactions</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="restriction-section">
                    <h4>Transaction Limits</h4>
                    <p>Set daily and per-transaction limits</p>
                    <div class="transaction-limits">
                        <div class="form-group">
                            <label>Daily Limit ($)</label>
                            <input type="number" id="daily-limit" min="1" max="10000" placeholder="1000">
                        </div>
                        
                        <div class="form-group">
                            <label>Per Transaction Limit ($)</label>
                            <input type="number" id="transaction-limit" min="1" max="5000" placeholder="500">
                        </div>
                        
                        <div class="form-group">
                            <label>Monthly Limit ($)</label>
                            <input type="number" id="monthly-limit" min="1" max="50000" placeholder="5000">
                        </div>
                    </div>
                </div>
                
                <div class="restriction-section">
                    <h4>Transaction Notifications</h4>
                    <p>Get alerts for card activity</p>
                    <div class="notification-settings">
                        <label class="checkbox">
                            <input type="checkbox" id="notify-all-transactions" checked>
                            <span>üì± All transactions</span>
                        </label>
                        
                        <label class="checkbox">
                            <input type="checkbox" id="notify-large-transactions" checked>
                            <span>üí∞ Large transactions (>$100)</span>
                        </label>
                        
                        <label class="checkbox">
                            <input type="checkbox" id="notify-international" checked>
                            <span>üåç International transactions</span>
                        </label>
                        
                        <label class="checkbox">
                            <input type="checkbox" id="notify-declined" checked>
                            <span>‚ùå Declined transactions</span>
                        </label>
                        
                        <label class="checkbox">
                            <input type="checkbox" id="notify-suspicious" checked>
                            <span>üö® Suspicious activity</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button onclick="saveRestrictions()" class="btn btn-primary">Save Restrictions</button>
                <button onclick="resetRestrictions()" class="btn btn-secondary">Reset to Default</button>
            </div>
        </div>
    </div>

    <script src="notification-utils.js"></script>
    <script src="card-details.js"></script>
</body>
</html>